import{d as _,j as k,c as P,l as b,r as u,O as p,w as L}from"./index-157ff064.js";import{s as d}from"./utils-b2fc192b.js";import{w as j}from"./index-bb416ca0.js";const N=e=>e,K=_({__name:"UserAvatar",props:{user:{type:Object,required:!0},size:{type:String,default:"medium"}},setup(e){const a=r=>{const n=["primary","#FFD43A","#ADFF00","#262824","danger"],i=r.charCodeAt(0)%n.length;return n[i]},t=r=>r.startsWith("http")||r.startsWith("blob:");return(r,n)=>{const i=k("VaAvatar");return P(),b(i,{size:e.size,src:t(e.user.avatar)?e.user.avatar:"","fallback-text":e.user.avatar||e.user.fullname[0],color:a(e.user.fullname)},null,8,["size","src","fallback-text","color"])}}}),l=[{id:0,project_name:"Fake Dataset",project_owner:13,team:[13,5,28,14,17,28,23,11,16,19,12,28,11],status:"archived",creation_date:"20 Nov 2023"},{id:1,project_name:"Natural H2 Brittany",project_owner:28,team:[28,10,12,28,14,27,5,4,8,23,19,18,24,11,18,12,28],status:"important",creation_date:"16 Oct 2023"}],v=[{id:1,fullname:"Patrik Radkow",email:"magicpan@example.gg",username:"magicpan",role:"user",avatar:"",active:!0,notes:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, voluptatum."},{id:2,fullname:"Martin Hoff",email:"niceadmin@mail.com",username:"admin",role:"admin",avatar:"ðŸ˜",active:!0,notes:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, voluptatum."},{id:3,fullname:"Liz Macintosh",email:"ebrown@gmail.com",username:"ebrown",role:"user",avatar:"https://randomuser.me/api/portraits/men/1.jpg",active:!0,notes:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, voluptatum."},{id:4,fullname:"M2",email:"mrm@gmail.com",username:"mrm",role:"owner",avatar:"",active:!0,notes:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, voluptatum."},{id:5,fullname:"Kevin Smith",email:"kevin@gmail.com",username:"kevin13",role:"user",avatar:"https://randomuser.me/api/portraits/men/2.jpg",active:!0,notes:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, voluptatum."},{id:6,fullname:"Martin Hoff",email:"martin@gmail.com",username:"martin3",role:"user",avatar:"https://randomuser.me/api/portraits/men/3.jpg",active:!0,notes:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, voluptatum."},{id:7,fullname:"John Doe",email:"john@mail.com",username:"john",role:"user",avatar:"",active:!0,notes:""},{id:8,fullname:"Maksim Nedo",email:"maksim@epic.com",username:"maksim",role:"admin",avatar:"https://avatars.githubusercontent.com/u/23530004?v=4",active:!0,notes:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, voluptatum."},{id:9,fullname:"Dmitry Kuzmenko",email:"dd@pp.com",username:"dd",role:"user",avatar:"",active:!0,notes:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, voluptatum."},{id:10,fullname:"Rayan Gosling",email:"rayan@u.ua",username:"rayan",role:"user",avatar:"",active:!0,notes:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, voluptatum."},{id:11,active:!0,fullname:"Laura Smith",email:"laura@example.gg",username:"bbb",role:"user",avatar:"",notes:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, voluptatum."},{id:12,active:!0,fullname:"Ted Mosby",email:"tedmosby@mail.com",username:"gamer777",role:"user",avatar:"ðŸ˜­",notes:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, voluptatum."},{id:13,active:!0,fullname:"Forrest Schmidt Jr.",email:"Willard23@gmail.com",username:"Clementine72",role:"user",avatar:"https://randomuser.me/api/portraits/men/4.jpg",notes:"sed asperiores sed"},{id:14,active:!0,fullname:"Emilio Bruen",email:"Amya51@hotmail.com",username:"Madalyn_Brekke55",role:"user",avatar:"https://randomuser.me/api/portraits/men/5.jpg",notes:"architecto amet deleniti"},{id:15,active:!1,fullname:"Jenny Heathcote",email:"Granville_Lebsack38@yahoo.com",role:"user",username:"Vivienne98",avatar:"https://randomuser.me/api/portraits/men/6.jpg",notes:"provident ipsam recusandae"},{id:16,active:!0,fullname:"Sonya Cummerata III",email:"Toni2@yahoo.com",role:"user",username:"Norwood79",avatar:"https://randomuser.me/api/portraits/men/7.jpg",notes:"aut quaerat totam"},{id:17,active:!0,fullname:"Ruben Mitchell",email:"Lisette41@yahoo.com",role:"user",username:"Dariana_Schulist",avatar:"https://randomuser.me/api/portraits/men/8.jpg",notes:"minima harum ut"},{id:18,active:!0,fullname:"Blake Hudson I",email:"Israel88@hotmail.com",role:"user",username:"Crystal.Brakus29",avatar:"https://randomuser.me/api/portraits/men/9.jpg",notes:"sint culpa voluptatem"},{id:19,active:!0,fullname:"Alison Mueller",email:"Darien_Mayer@gmail.com",role:"user",username:"Cordie.Grant",avatar:"https://randomuser.me/api/portraits/men/10.jpg",notes:"officia autem aliquam"},{id:20,active:!1,fullname:"Miss Angelina Jenkins",email:"Cristal.Sauer@yahoo.com",role:"user",username:"Peggie.Runolfsdottir",avatar:"https://randomuser.me/api/portraits/men/11.jpg",notes:"rerum rerum rerum"},{id:21,active:!0,fullname:"Mack Boyle",email:"Shanny30@gmail.com",role:"user",username:"Phoebe67",avatar:"https://randomuser.me/api/portraits/men/12.jpg",notes:"voluptatibus et soluta"},{id:22,active:!0,fullname:"Raymond Simonis",email:"Tressie.Bruen45@gmail.com",role:"user",username:"Percy37",avatar:"https://randomuser.me/api/portraits/men/13.jpg",notes:"aut id molestiae"},{id:23,active:!0,fullname:"Janice Sporer",email:"Anastasia85@hotmail.com",role:"user",username:"Kali84",avatar:"https://randomuser.me/api/portraits/men/14.jpg",notes:"magnam eum aliquam"},{id:24,active:!0,fullname:"Francis Schowalter",email:"Tess56@gmail.com",role:"user",username:"Robyn.Kris",avatar:"https://randomuser.me/api/portraits/men/0.jpg",notes:"similique architecto in"},{id:25,active:!0,fullname:"Emilio Hoppe",email:"Bruce49@yahoo.com",role:"user",username:"Clemmie.Kutch",avatar:"https://randomuser.me/api/portraits/men/16.jpg",notes:"rerum quae dolorem"},{id:26,active:!0,fullname:"Janice Harber",email:"Jude38@hotmail.com",role:"user",username:"Neal70",avatar:"https://randomuser.me/api/portraits/men/17.jpg",notes:"iure dolor provident"},{id:27,fullname:"Evelyn Morar",email:"Laverne.Roberts@hotmail.com",role:"user",username:"Neal_Thompson84",active:!0,avatar:"https://randomuser.me/api/portraits/men/18.jpg",notes:"quae eos placeat"},{id:28,fullname:"Antoinette Schneider",email:"Ambrose_Stehr25@gmail.com",role:"user",username:"Esta.Hickle",active:!0,avatar:"https://randomuser.me/api/portraits/men/19.jpg",notes:"qui cumque unde"},{id:29,fullname:"Daniel Ebony",email:"Nyah44@hotmail.com",role:"user",username:"Jade.Kuhlman90",active:!0,avatar:"https://randomuser.me/api/portraits/men/20.jpg",notes:"exercitationem velit consectetur"}],w=(e,a)=>a==="project_owner"?e.project_owner.fullname:a==="team"?e.team.map(t=>t.fullname).join(", "):a==="creation_date"?new Date(e[a]):e[a],q=async e=>{await d(300);const a=l.map(r=>({...r,project_owner:v.find(n=>n.id===r.project_owner),team:v.filter(n=>r.team.includes(n.id))}));return e.sortBy&&e.sortingOrder&&a.sort((r,n)=>(r=w(r,e.sortBy),n=w(n,e.sortBy),r<n?e.sortingOrder==="asc"?-1:1:r>n?e.sortingOrder==="asc"?1:-1:0)),{data:a.slice((e.page-1)*e.perPage,e.page*e.perPage),pagination:{page:e.page,perPage:e.perPage,total:l.length}}},S=async e=>{await d(300);const a={...e,id:l.length+1,creation_date:new Date().toLocaleDateString("gb",{day:"numeric",month:"short",year:"numeric"})};return l.push(a),{...a,project_owner:v.find(t=>t.id===e.project_owner),team:v.filter(t=>e.team.includes(t.id))}},x=async e=>{await d(300);const a=l.findIndex(t=>t.id===e.id);return l[a]=e,e},A=async e=>{await d(300);const a=l.findIndex(t=>t.id===e.id);return l.splice(a,1),e},D=()=>u({page:1,perPage:10,total:0}),C=()=>u({sortBy:"creation_date",sortingOrder:"desc"}),T=e=>{const a=u(!1),t=u([]),{sorting:r=C(),pagination:n=D()}=e??{},i=async()=>{a.value=!0;const{data:o,pagination:s}=await q({...p(r),...p(n)});t.value=o,m(()=>{n.value=s}),a.value=!1},{ignoreUpdates:m}=j([n,r],i,{deep:!0});return i(),{isLoading:a,projects:t,fetch:i,async add(o){a.value=!0,await S({...o,project_owner:o.project_owner.id,team:o.team.map(s=>s.id)}),await i(),a.value=!1},async update(o){a.value=!0,await x({...o,project_owner:o.project_owner.id,team:o.team.map(s=>s.id)}),await i(),a.value=!1},async remove(o){a.value=!0,await A({...o,project_owner:o.project_owner.id,team:o.team.map(s=>s.id)}),await i(),a.value=!1},pagination:n,sorting:r}},c=v,M=e=>l.filter(a=>a.team.includes(Number(e))).map(a=>({...a,project_owner:c.find(t=>t.id===a.project_owner),team:a.team.map(t=>c.find(r=>r.id===t)),status:a.status})),y=(e,a)=>a==="projects"?e.projects.map(t=>t.project_name).join(", "):e[a],I=async e=>{await d(1e3);const{isActive:a,search:t,sortBy:r,sortingOrder:n}=e;let i=c;i=i.filter(s=>s.active===a),t&&(i=i.filter(s=>s.fullname.toLowerCase().includes(t.toLowerCase()))),i=i.map(s=>({...s,projects:M(s.id)})),r&&n&&(i=i.sort((s,g)=>{const f=y(s,r),h=y(g,r);return f>h?n==="asc"?1:-1:f<h?n==="asc"?-1:1:0}));const{page:m=1,perPage:o=10}=e||{};return{data:i.slice((m-1)*o,m*o),pagination:{page:m,perPage:o,total:i.length}}},R=async e=>{await d(1e3),c.unshift(e)},B=async e=>{await d(1e3);const a=c.findIndex(t=>t.id===e.id);c[a]=e},Q=async e=>{await d(1e3),c.splice(c.findIndex(a=>a.id===e.id),1)},U=()=>u({page:1,perPage:10,total:0}),O=()=>u({sortBy:"fullname",sortingOrder:null}),z=()=>u({isActive:!0,search:""}),E=e=>{const a=u(!1),t=u([]),{filters:r=z(),sorting:n=O(),pagination:i=U()}=e||{},m=async()=>{a.value=!0;const{data:s,pagination:g}=await I({...p(r),...p(n),...p(i)});t.value=s,o(()=>{i.value=g}),a.value=!1},{ignoreUpdates:o}=j([i,n],m,{deep:!0});return L(r,()=>{i.value.page=1,m()},{deep:!0}),m(),{isLoading:a,filters:r,sorting:n,pagination:i,users:t,fetch:m,async add(s){a.value=!0,await R(s),await m(),a.value=!1},async update(s){a.value=!0,await B(s),await m(),a.value=!1},async remove(s){a.value=!0,await Q(s),await m(),a.value=!1}}};export{K as _,E as a,N as d,T as u};
//# sourceMappingURL=useUsers-3172d23e.js.map
